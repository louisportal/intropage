<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Louis Portal</title>
    <link rel="stylesheet" href="home.css">
    <script src="auth.js"></script>
</head>
<body>

    <div class="lang-dropdown">
        <button class="lang-toggle" id="lang-toggle" onclick="toggleLangMenu()">ðŸ‡«ðŸ‡·</button>
        <div class="lang-menu" id="lang-menu">
            <a href="#" onclick="setLang('fr')">ðŸ‡«ðŸ‡·</a>
            <a href="#" onclick="setLang('en')">ðŸ‡¬ðŸ‡§</a>
            <a href="#" onclick="setLang('de')">ðŸ‡©ðŸ‡ª</a>
            <a href="#" onclick="setLang('it')">ðŸ‡®ðŸ‡¹</a>
        </div>
    </div>

    <header>
        <h1>Louis Portal</h1>
    </header>

    <main>
        <p class="welcome" id="welcome-text">bienvenue sur ma page web</p>

        <div class="cards">
            <a href="fr/consulaire.html" id="card-consulaire" class="card card-consulaire">
                <span class="card-label" id="label-consulaire">Consulaire</span>
            </a>
            <a href="fr/startup.html" id="card-startups" class="card card-startups">
                <span class="card-label" id="label-startups">Startups</span>
            </a>
        </div>
    </main>

    <script>
        var flags = { fr: 'ðŸ‡«ðŸ‡·', en: 'ðŸ‡¬ðŸ‡§', de: 'ðŸ‡©ðŸ‡ª', it: 'ðŸ‡®ðŸ‡¹' };
        var translations = {
            fr: { welcome: "bienvenue sur ma page web", consulaire: "Consulaire", startups: "Startups", consLink: "fr/consulaire.html", startLink: "fr/startup.html" },
            en: { welcome: "welcome to my webpage", consulaire: "Consular", startups: "Startups", consLink: "en/consulaire.html", startLink: "en/startup.html" },
            de: { welcome: "willkommen auf meiner Webseite", consulaire: "Konsularisch", startups: "Startups", consLink: "de/consulaire.html", startLink: "de/startup.html" },
            it: { welcome: "benvenuti sulla mia pagina web", consulaire: "Consolare", startups: "Startups", consLink: "it/consulaire.html", startLink: "it/startup.html" }
        };

        // Auto-detect browser language on page load
        (function() {
            var userLang = navigator.language || navigator.userLanguage;
            var langCode = userLang.toLowerCase().substring(0, 2);
            var supportedLangs = ['fr', 'en', 'de', 'it'];

            // Default to French if language not supported
            if (supportedLangs.indexOf(langCode) === -1) {
                langCode = 'fr';
            }

            // Set the detected language
            setLang(langCode);
        })();

        function setLang(lang) {
            var t = translations[lang];
            document.getElementById('welcome-text').textContent = t.welcome;
            document.getElementById('label-consulaire').textContent = t.consulaire;
            document.getElementById('label-startups').textContent = t.startups;
            document.getElementById('card-consulaire').href = t.consLink;
            document.getElementById('card-startups').href = t.startLink;
            document.getElementById('lang-toggle').textContent = flags[lang];
            document.documentElement.lang = lang;
            closeLangMenu();
        }

        function toggleLangMenu() {
            document.getElementById('lang-menu').classList.toggle('open');
        }

        function closeLangMenu() {
            document.getElementById('lang-menu').classList.remove('open');
        }

        document.addEventListener('click', function(e) {
            if (!e.target.closest('.lang-dropdown')) {
                closeLangMenu();
            }
        });
    </script>

</body>
</html>
